<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1731px" preserveAspectRatio="none" style="width:1544px;height:1731px;" version="1.1" viewBox="0 0 1544 1731" width="1544px" zoomAndPan="magnify"><defs><filter height="300%" id="f14hcksgnj0rmt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="1716.9063" style="stroke: #A80036; stroke-width: 1.0;" width="565" x="149" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="414" y="17.4951">client</text><rect fill="#DDDDDD" height="1716.9063" style="stroke: #A80036; stroke-width: 1.0;" width="731" x="800" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="1146" y="17.4951">server</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1368" y="246.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1375" y="267.5488">ServerSyncableObject</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="153" y="414.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="160" y="435.5645">ClientSyncableObject</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="25" x2="25" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="229" x2="229" y1="447.3359" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="384" x2="384" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="513" x2="513" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="683" x2="683" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="834" x2="834" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1100" x2="1100" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1287" x2="1287" y1="87.6094" y2="1633.2969"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1447" x2="1447" y1="279.3203" y2="1633.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="8" y="84.5332">User</text><ellipse cx="25.5" cy="13" fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M25.5,21 L25.5,48 M12.5,29 L38.5,29 M25.5,48 L12.5,63 M25.5,48 L38.5,63 " fill="none" filter="url(#f14hcksgnj0rmt)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="8" y="1646.8301">User</text><ellipse cx="25.5" cy="1659.9063" fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M25.5,1667.9063 L25.5,1694.9063 M12.5,1675.9063 L38.5,1675.9063 M25.5,1694.9063 L12.5,1709.9063 M25.5,1694.9063 L38.5,1709.9063 " fill="none" filter="url(#f14hcksgnj0rmt)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="153" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="160" y="1653.8301">ClientSyncableObject</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="316" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="323" y="72.5332">ClientChangePlant</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="316" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="323" y="1653.8301">ClientChangePlant</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="462" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="469" y="72.5332">ClientContext</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="462" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="469" y="1653.8301">ClientContext</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="656" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="663" y="72.5332">Client</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="656" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="663" y="1653.8301">Client</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="804" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="811" y="72.5332">Server</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="804" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="811" y="1653.8301">Server</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="1046" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1053" y="72.5332">ServerContext</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="1046" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1053" y="1653.8301">ServerContext</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1216" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1223" y="72.5332">ServerChangePlant</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1216" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1223" y="1653.8301">ServerChangePlant</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1368" y="1632.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1375" y="1653.8301">ServerSyncableObject</text><rect fill="#EEEEEE" filter="url(#f14hcksgnj0rmt)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1529" x="3" y="118.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1532" y1="118.7852" y2="118.7852"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1532" y1="121.7852" y2="121.7852"/><rect fill="#EEEEEE" filter="url(#f14hcksgnj0rmt)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="73" x="731" y="107.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="737" y="125.1045">initialize</text><polygon fill="#A80036" points="822,160.3125,832,164.3125,822,168.3125,826,164.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683" x2="828" y1="164.3125" y2="164.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="690" y="159.4561">connect</text><polygon fill="#A80036" points="1088,190.6641,1098,194.6641,1088,198.6641,1092,194.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="1094" y1="194.6641" y2="194.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="841" y="189.8076">get entrance syncables</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1142" y1="225.0156" y2="225.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1142" x2="1142" y1="225.0156" y2="238.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1101" x2="1142" y1="238.0156" y2="238.0156"/><polygon fill="#A80036" points="1111,234.0156,1101,238.0156,1111,242.0156,1107,238.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="1107" y="220.1592">resolve requisite associations</text><polygon fill="#A80036" points="1356,264.3672,1366,268.3672,1356,272.3672,1360,268.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1362" y1="268.3672" y2="268.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1107" y="263.5107">create corresponding resources</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1368" y="246.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1375" y="267.5488">ServerSyncableObject</text><polygon fill="#A80036" points="1435.5,310.9766,1445.5,314.9766,1435.5,318.9766,1439.5,314.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="314.9766" y2="314.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1107" y="310.1201">validate read access right</text><polygon fill="#A80036" points="845,341.3281,835,345.3281,845,349.3281,841,345.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="839" x2="1099" y1="345.3281" y2="345.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="851" y="340.4717">context syncables</text><polygon fill="#A80036" points="694,371.6797,684,375.6797,694,379.6797,690,375.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="688" x2="833" y1="375.6797" y2="375.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="700" y="370.8232">context syncables</text><polygon fill="#A80036" points="524,402.0313,514,406.0313,524,410.0313,520,406.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="682" y1="406.0313" y2="406.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="530" y="401.1748">add syncables to context</text><polygon fill="#A80036" points="317,432.3828,307,436.3828,317,440.3828,313,436.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="311" x2="512" y1="436.3828" y2="436.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="323" y="431.5264">create corresponding resource</text><rect fill="#FEFECE" filter="url(#f14hcksgnj0rmt)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="153" y="414.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="160" y="435.5645">ClientSyncableObject</text><polygon fill="#A80036" points="822,478.9922,832,482.9922,822,486.9922,826,482.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683" x2="828" y1="482.9922" y2="482.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="690" y="478.1357">view query</text><polygon fill="#A80036" points="1088,509.3438,1098,513.3438,1088,517.3438,1092,513.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="1094" y1="513.3438" y2="513.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="841" y="508.4873">get queried syncables</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1142" y1="543.6953" y2="543.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1142" x2="1142" y1="543.6953" y2="556.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1101" x2="1142" y1="556.6953" y2="556.6953"/><polygon fill="#A80036" points="1111,552.6953,1101,556.6953,1111,560.6953,1107,556.6953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="1107" y="538.8389">resolve requisite associations</text><polygon fill="#A80036" points="1435.5,583.0469,1445.5,587.0469,1435.5,591.0469,1439.5,587.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="587.0469" y2="587.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1107" y="582.1904">create corresponding resources</text><polygon fill="#A80036" points="1435.5,613.3984,1445.5,617.3984,1435.5,621.3984,1439.5,617.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="617.3984" y2="617.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1107" y="612.542">validate read access right</text><polygon fill="#A80036" points="845,643.75,835,647.75,845,651.75,841,647.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="839" x2="1099" y1="647.75" y2="647.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="851" y="642.8936">queried syncables</text><polygon fill="#A80036" points="694,674.1016,684,678.1016,694,682.1016,690,678.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="688" x2="833" y1="678.1016" y2="678.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="700" y="673.2451">queried syncables</text><polygon fill="#A80036" points="524,704.4531,514,708.4531,524,712.4531,520,708.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="682" y1="708.4531" y2="708.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="530" y="703.5967">add syncables to context</text><polygon fill="#A80036" points="240.5,734.8047,230.5,738.8047,240.5,742.8047,236.5,738.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.5" x2="512" y1="738.8047" y2="738.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="246.5" y="733.9482">create corresponding resource</text><rect fill="#EEEEEE" filter="url(#f14hcksgnj0rmt)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1529" x="3" y="767.9805"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1532" y1="767.9805" y2="767.9805"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1532" y1="770.9805" y2="770.9805"/><rect fill="#EEEEEE" filter="url(#f14hcksgnj0rmt)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="113" x="711" y="756.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="717" y="774.2998">initiate change</text><polygon fill="#A80036" points="217.5,809.5078,227.5,813.5078,217.5,817.5078,221.5,813.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="25.5" x2="223.5" y1="813.5078" y2="813.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="32.5" y="808.6514">invoke method with side effects</text><polygon fill="#A80036" points="671,839.8594,681,843.8594,671,847.8594,675,843.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229.5" x2="677" y1="843.8594" y2="843.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="236.5" y="839.0029">update with change</text><polygon fill="#A80036" points="395,870.2109,385,874.2109,395,878.2109,391,874.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="682" y1="874.2109" y2="874.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="401" y="869.3545">get consequences</text><polygon fill="#A80036" points="671,900.5625,681,904.5625,671,908.5625,675,904.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384" x2="677" y1="904.5625" y2="904.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="391" y="899.7061">consequences</text><polygon fill="#A80036" points="240.5,930.9141,230.5,934.9141,240.5,938.9141,236.5,934.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.5" x2="682" y1="934.9141" y2="934.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="246.5" y="930.0576">validate write/associate access right</text><polygon fill="#A80036" points="524,961.2656,514,965.2656,524,969.2656,520,965.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="682" y1="965.2656" y2="965.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="530" y="960.4092">apply consequences</text><polygon fill="#A80036" points="822,991.6172,832,995.6172,822,999.6172,826,995.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683" x2="828" y1="995.6172" y2="995.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="690" y="990.7607">change</text><polygon fill="#A80036" points="1088,1021.9688,1098,1025.9688,1088,1029.9688,1092,1025.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="1094" y1="1025.9688" y2="1025.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="841" y="1021.1123">lock and get related/associated resources</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1142" y1="1056.3203" y2="1056.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1142" x2="1142" y1="1056.3203" y2="1069.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1101" x2="1142" y1="1069.3203" y2="1069.3203"/><polygon fill="#A80036" points="1111,1065.3203,1101,1069.3203,1111,1073.3203,1107,1069.3203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="1107" y="1051.4639">resolve requisite associations</text><polygon fill="#A80036" points="1435.5,1095.6719,1445.5,1099.6719,1435.5,1103.6719,1439.5,1099.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="1099.6719" y2="1099.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1107" y="1094.8154">create corresponding resources</text><polygon fill="#A80036" points="1435.5,1126.0234,1445.5,1130.0234,1435.5,1134.0234,1439.5,1130.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="1130.0234" y2="1130.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1107" y="1125.167">validate read access right</text><polygon fill="#A80036" points="1275,1156.375,1285,1160.375,1275,1164.375,1279,1160.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="1281" y1="1160.375" y2="1160.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="841" y="1155.5186">get consequences</text><polygon fill="#A80036" points="845,1186.7266,835,1190.7266,845,1194.7266,841,1190.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="839" x2="1286" y1="1190.7266" y2="1190.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="851" y="1185.8701">consequences</text><polygon fill="#A80036" points="1088,1217.0781,1098,1221.0781,1088,1225.0781,1092,1221.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="1094" y1="1221.0781" y2="1221.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="841" y="1216.2217">apply consequences</text><polygon fill="#A80036" points="1435.5,1247.4297,1445.5,1251.4297,1435.5,1255.4297,1439.5,1251.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="1251.4297" y2="1251.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="1107" y="1246.5732">validate write/associate access right</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="876" y1="1281.7813" y2="1281.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="876" x2="876" y1="1281.7813" y2="1294.7813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="835" x2="876" y1="1294.7813" y2="1294.7813"/><polygon fill="#A80036" points="845,1290.7813,835,1294.7813,845,1298.7813,841,1294.7813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="841" y="1276.9248">broadcast consequences with syncables</text><rect fill="#EEEEEE" filter="url(#f14hcksgnj0rmt)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1529" x="3" y="1323.957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1532" y1="1323.957" y2="1323.957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1532" y1="1326.957" y2="1326.957"/><rect fill="#EEEEEE" filter="url(#f14hcksgnj0rmt)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="213" x="661" y="1312.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="667" y="1330.2764">apply broadcast consequences</text><rect fill="#FBFB77" filter="url(#f14hcksgnj0rmt)" height="40" style="stroke: #A80036; stroke-width: 1.0;" width="156" x="756" y="1352.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="760" y="1369.6279">broadcast consequences</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="760" y="1385.9795">with up-to-date syncables</text><polygon fill="#A80036" points="1088,1416.1875,1098,1420.1875,1088,1424.1875,1092,1420.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834" x2="1094" y1="1420.1875" y2="1420.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="841" y="1415.3311">get resources by broadcast syncables</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1142" y1="1450.5391" y2="1450.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1142" x2="1142" y1="1450.5391" y2="1463.5391"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1101" x2="1142" y1="1463.5391" y2="1463.5391"/><polygon fill="#A80036" points="1111,1459.5391,1101,1463.5391,1111,1467.5391,1107,1463.5391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1107" y="1445.6826">validate requisite associations</text><polygon fill="#A80036" points="1435.5,1489.8906,1445.5,1493.8906,1435.5,1497.8906,1439.5,1493.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="1493.8906" y2="1493.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="1107" y="1489.0342">create corresponding resources</text><polygon fill="#A80036" points="1435.5,1520.2422,1445.5,1524.2422,1435.5,1528.2422,1439.5,1524.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1100" x2="1441.5" y1="1524.2422" y2="1524.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1107" y="1519.3857">validate read access right</text><polygon fill="#A80036" points="845,1550.5938,835,1554.5938,845,1558.5938,841,1554.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="839" x2="1099" y1="1554.5938" y2="1554.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="851" y="1549.7373">filtered/transformed consequences</text><polygon fill="#A80036" points="694,1580.9453,684,1584.9453,694,1588.9453,690,1584.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="688" x2="833" y1="1584.9453" y2="1584.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="700" y="1580.0889">related consequences</text><polygon fill="#A80036" points="524,1611.2969,514,1615.2969,524,1619.2969,520,1615.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="682" y1="1615.2969" y2="1615.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="530" y="1610.4404">apply consequences</text><!--
@startuml overview

actor User

box "client"
participant Client order 3
participant ClientContext order 2
participant ClientChangePlant order 1
participant ClientSyncableObject order 0
end box

box "server"
participant Server order 4
participant ServerContext order 5
participant ServerChangePlant order 6
participant ServerSyncableObject order 7
end box

== initialize ==

Client -> Server: connect
Server -> ServerContext: get entrance syncables
ServerContext -> ServerContext: resolve requisite associations
create ServerSyncableObject
ServerContext -> ServerSyncableObject: create corresponding resources
ServerContext -> ServerSyncableObject: validate read access right
Server <- - ServerContext: context syncables
Client <- - Server: context syncables
Client -> ClientContext: add syncables to context
create ClientSyncableObject
ClientContext -> ClientSyncableObject: create corresponding resource
Client -> Server: view query
Server -> ServerContext: get queried syncables
ServerContext -> ServerContext: resolve requisite associations
ServerContext -> ServerSyncableObject: create corresponding resources
ServerContext -> ServerSyncableObject: validate read access right
Server <- - ServerContext: queried syncables
Server - -> Client: queried syncables
Client -> ClientContext: add syncables to context
ClientContext -> ClientSyncableObject: create corresponding resource

== initiate change ==

User -> ClientSyncableObject: invoke method with side effects
ClientSyncableObject -> Client: update with change
Client -> ClientChangePlant: get consequences
Client <- - ClientChangePlant: consequences
Client -> ClientSyncableObject: validate write/associate access right
Client -> ClientContext: apply consequences

Client -> Server: change

Server -> ServerContext: lock and get related/associated resources
ServerContext -> ServerContext: resolve requisite associations
ServerContext -> ServerSyncableObject: create corresponding resources
ServerContext -> ServerSyncableObject: validate read access right
Server -> ServerChangePlant: get consequences
Server <- - ServerChangePlant: consequences
Server -> ServerContext: apply consequences
ServerContext -> ServerSyncableObject: validate write/associate access right
Server -> Server: broadcast consequences with syncables

== apply broadcast consequences ==

rnote over Server: broadcast consequences\nwith up-to-date syncables

Server -> ServerContext: get resources by broadcast syncables
ServerContext -> ServerContext: validate requisite associations
ServerContext -> ServerSyncableObject: create corresponding resources
ServerContext -> ServerSyncableObject: validate read access right
Server <- - ServerContext: filtered/transformed consequences
Server -> Client: related consequences
Client -> ClientContext: apply consequences

@enduml

PlantUML version 1.2018.03(Fri Apr 06 00:59:15 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>